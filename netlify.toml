[build]
  command = "npm run build"
  publish = ".next"

# Disable caching for ALL API routes (covers /api/contractor/*, /api/admin/*, etc.)
[[headers]]
  for = "/api/*"
  [headers.values]
    Cache-Control = "no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0"
    Pragma = "no-cache"
    Expires = "0"
    CDN-Cache-Control = "no-store"
    Netlify-CDN-Cache-Control = "no-store"
    Surrogate-Control = "no-store"

[functions]
  node_bundler = "esbuild"
